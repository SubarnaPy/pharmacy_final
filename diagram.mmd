flowchart TD
    A["<b>CLIENT</b><br/>ðŸ¥ End User"] --> B["<b>HEALTHCARE PORTAL</b><br/>ðŸŒ Main Platform"]
    B --> C["<b>PHARMACY PORTAL</b><br/>ðŸ’Š Pharmacy Network"]
    B --> D1["<b>DOCTOR PORTAL</b><br/>ðŸ‘¨â€âš• Medical Professionals"]
    B --> E1["<b>SPECIALIST PORTAL</b><br/>ðŸ©º Specialist Network"]
    %% Doctor Appointment Booking System
    A --> F1["<b>BOOK DOCTOR<br/>APPOINTMENT</b><br/>ðŸ“… Schedule Medical Visit"]
    F1 --> G1["<b>SELECT DOCTOR<br/>TYPE</b><br/>ðŸ‘©â€âš• General/Specialist Choice"]
    G1 --> H1{"<b>DOCTOR TYPE<br/>SELECTION</b><br/>ðŸ” Medical Category"}
    H1 -->|"<b>GENERAL</b>"| I1["<b>BROWSE GENERAL<br/>PRACTITIONERS</b><br/>ðŸ‘¨â€âš• Available GPs"]
    H1 -->|"<b>SPECIALIST</b>"| J1["<b>SELECT SPECIALTY</b><br/>ðŸ©º Medical Specialization"]
    
    J1 --> K1["<b>BROWSE SPECIALISTS</b><br/>ðŸ” Cardiology, Neurology, etc."]
    I1 --> L1["<b>VIEW DOCTOR<br/>PROFILES</b><br/>ðŸ“‹ Experience & Reviews"]
    K1 --> L1
    L1 --> M1["<b>CHECK AVAILABILITY</b><br/>ðŸ“… Available Time Slots"]
    M1 --> N1["<b>SELECT TIME SLOT</b><br/>â° Choose Appointment Time"]
    N1 --> O1["<b>APPOINTMENT<br/>CONFIRMATION</b><br/>âœ… Booking Confirmed"]
    O1 --> P1["<b>SEND APPOINTMENT<br/>REMINDER</b><br/>ðŸ”” Email/SMS Notification"]
    
    %% Virtual Consultation Option
    N1 --> Q1{"<b>CONSULTATION<br/>TYPE?</b><br/>ðŸ’» In-person vs Virtual"}
    Q1 -->|"<b>VIRTUAL</b>"| R1["<b>SCHEDULE VIDEO<br/>CONSULTATION</b><br/>ðŸ“¹ Online Meeting"]
    Q1 -->|"<b>IN-PERSON</b>"| O1
    R1 --> S1["<b>SEND MEETING<br/>LINK</b><br/>ðŸ”— Video Conference Access"]
    S1 --> O1
    
    %% Doctor-Patient Interaction
    O1 --> T1["<b>DOCTOR CONSULTATION</b><br/>ðŸ©º Medical Examination"]
    T1 --> U1["<b>MEDICAL DIAGNOSIS</b><br/>ðŸ”¬ Health Assessment"]
    U1 --> V1{"<b>PRESCRIPTION<br/>NEEDED?</b><br/>ðŸ’Š Medication Required"}
    V1 -->|"<b>YES</b>"| W1["<b>DIGITAL PRESCRIPTION</b><br/>ðŸ“ Electronic Prescription"]
    V1 -->|"<b>NO</b>"| X1["<b>HEALTH ADVICE<br/>ONLY</b><br/>ðŸ’¡ Lifestyle Recommendations"]
    
    %% Specialist Referral System
    U1 --> Y1{"<b>SPECIALIST<br/>REFERRAL NEEDED?</b><br/>ðŸ¥ Advanced Care Required"}
    Y1 -->|"<b>YES</b>"| Z1["<b>GENERATE REFERRAL</b><br/>ðŸ“„ Specialist Recommendation"]
    Y1 -->|"<b>NO</b>"| X1
    
    Z1 --> AA1["<b>SELECT SPECIALIST<br/>CATEGORY</b><br/>ðŸ©º Medical Specialty"]
    AA1 --> BB1["<b>RECOMMEND<br/>SPECIALISTS</b><br/>ðŸ‘©â€âš• Qualified Professionals"]
    BB1 --> CC1["<b>PATIENT CHOOSES<br/>SPECIALIST</b><br/>âœ… Specialist Selection"]
    CC1 --> DD1["<b>PRIORITY BOOKING</b><br/>âš¡ Expedited Appointment"]
    DD1 --> EE1["<b>SPECIALIST<br/>CONSULTATION</b><br/>ðŸ”¬ Advanced Medical Care"]
    
    %% Medical Records Integration
    T1 --> FF1["<b>UPDATE MEDICAL<br/>RECORDS</b><br/>ðŸ“‹ Patient History"]
    EE1 --> FF1
    W1 --> GG1["<b>LINK TO PHARMACY<br/>PORTAL</b><br/>ðŸ”— Prescription Processing"]
    GG1 --> D
    
    %% Patient Medical History
    A --> HH1["<b>VIEW MEDICAL<br/>HISTORY</b><br/>ðŸ“š Past Records"]
    HH1 --> II1["<b>APPOINTMENT<br/>HISTORY</b><br/>ðŸ“… Previous Visits"]
    HH1 --> JJ1["<b>PRESCRIPTION<br/>HISTORY</b><br/>ðŸ’Š Medication Records"]
    HH1 --> KK1["<b>TEST RESULTS</b><br/>ðŸ§ª Lab Reports"]
    
    %% Follow-up Appointment System
    X1 --> LL1{"<b>FOLLOW-UP<br/>REQUIRED?</b><br/>ðŸ”„ Continued Care"}
    EE1 --> LL1
    LL1 -->|"<b>YES</b>"| MM1["<b>SCHEDULE FOLLOW-UP</b><br/>ðŸ“… Future Appointment"]
    MM1 --> N1
    LL1 -->|"<b>NO</b>"| NN1["<b>CONSULTATION<br/>COMPLETED</b><br/>âœ… Treatment Finished"]
    %% Initial Prescription Upload Process (Alternative Path)
    A --> D["<b>UPLOAD PRESCRIPTION</b><br/>ðŸ“„ Submit Medical Document"]
    D --> E{"<b>PRESCRIPTION<br/>VALIDATION</b><br/>âœ… Check Document"}
    E -->|"<b>VALID</b>"| F["<b>STORE IN DATABASE</b><br/>ðŸ’¾ Healthcare Portal Storage"]
    E -->|"<b>INVALID</b>"| G["<b>REQUEST RE-UPLOAD</b><br/>âŒ Error Details Provided"]
    G --> D
    
    %% Pharmacy Notification System
    F --> H["<b>IDENTIFY NEARBY<br/>PHARMACIES</b><br/>ðŸ“ Location-Based Search"]
    H --> I["<b>SEND NOTIFICATIONS</b><br/>ðŸ“¢ Alert Pharmacy Network"]
    I --> J["<b>PHARMACY 1</b><br/>ðŸª Receives Notification"]
    I --> K["<b>PHARMACY 2</b><br/>ðŸª Receives Notification"]
    I --> L["<b>PHARMACY N</b><br/>ðŸª Receives Notification"]
    
    %% Pharmacy Response Process
    J --> M{"<b>PHARMACY 1<br/>AVAILABLE?</b><br/>â° Service Status"}
    K --> N{"<b>PHARMACY 2<br/>AVAILABLE?</b><br/>â° Service Status"}
    L --> O{"<b>PHARMACY N<br/>AVAILABLE?</b><br/>â° Service Status"}
    
    M -->|"<b>YES</b>"| P["<b>PHARMACY 1<br/>CONTACTS CLIENT</b><br/>ðŸ“ž Initial Contact"]
    N -->|"<b>YES</b>"| Q["<b>PHARMACY 2<br/>CONTACTS CLIENT</b><br/>ðŸ“ž Initial Contact"]
    O -->|"<b>YES</b>"| R["<b>PHARMACY N<br/>CONTACTS CLIENT</b><br/>ðŸ“ž Initial Contact"]
    
    M -->|"<b>NO</b>"| S["<b>MARK AS<br/>UNAVAILABLE</b><br/>â›” Status Update"]
    N -->|"<b>NO</b>"| S
    O -->|"<b>NO</b>"| S
    
    %% Client-Pharmacy Communication
    P --> T["<b>CLIENT-PHARMACY 1<br/>CHAT INTERFACE</b><br/>ðŸ’¬ Real-time Communication"]
    Q --> U["<b>CLIENT-PHARMACY 2<br/>CHAT INTERFACE</b><br/>ðŸ’¬ Real-time Communication"]
    R --> V["<b>CLIENT-PHARMACY N<br/>CHAT INTERFACE</b><br/>ðŸ’¬ Real-time Communication"]
    
    %% Discussion and Order Process
    T --> W["<b>DISCUSS MEDICINE<br/>REQUIREMENTS</b><br/>ðŸ—£ Client Needs Discussion"]
    U --> W
    V --> W
    
    W --> X["<b>PHARMACY PROVIDES<br/>QUOTE & AVAILABILITY</b><br/>ðŸ’° Price & Stock Info"]
    X --> Y{"<b>CLIENT APPROVES<br/>ORDER?</b><br/>âœ” Order Confirmation"}
    
    Y -->|"<b>YES</b>"| Z["<b>CONFIRM ORDER</b><br/>âœ… Order Accepted"]
    Y -->|"<b>NO</b>"| AA["<b>CONTINUE DISCUSSION<br/>OR END CHAT</b><br/>ðŸ”„ Negotiation/Exit"]
    
    %% Order Fulfillment
    Z --> BB["<b>PHARMACY PROCESSES<br/>ORDER</b><br/>âš™ Order Processing"]
    BB --> CC["<b>PREPARE MEDICINE</b><br/>ðŸ§ª Medicine Preparation"]
    CC --> DD["<b>DELIVERY/PICKUP<br/>ARRANGEMENT</b><br/>ðŸšš Logistics Setup"]
    DD --> EE["<b>ORDER COMPLETED</b><br/>âœ… Transaction Finished"]
    EE --> FF["<b>STORE ORDER HISTORY</b><br/>ðŸ“š Portal Database"]
    
    %% Future Refill Process
    A --> GG{"<b>NEED REFILL?</b><br/>ðŸ”„ Future Requirement"}
    GG -->|"<b>YES</b>"| HH["<b>ACCESS ORDER<br/>HISTORY</b><br/>ðŸ“‹ Previous Orders"]
    HH --> II["<b>SELECT PREVIOUS<br/>ORDER</b><br/>ðŸ” Order Selection"]
    II --> JJ["<b>CONTACT SAME<br/>PHARMACY DIRECTLY</b><br/>ðŸ“ž Direct Connection"]
    JJ --> KK["<b>DIRECT CHAT WITH<br/>PREVIOUS PHARMACY</b><br/>ðŸ’¬ Established Relationship"]
    KK --> LL["<b>DISCUSS REFILL<br/>REQUIREMENTS</b><br/>ðŸ—£ Refill Discussion"]
    LL --> MM{"<b>MEDICINE<br/>AVAILABLE?</b><br/>ðŸ“¦ Stock Check"}
    
    MM -->|"<b>YES</b>"| NN["<b>PROCESS REFILL<br/>ORDER</b><br/>âš™ Refill Processing"]
    MM -->|"<b>NO</b>"| OO["<b>SUGGEST ALTERNATIVES<br/>OR RESTOCK TIMELINE</b><br/>ðŸ’¡ Alternative Solutions"]
    
    NN --> PP["<b>REFILL DELIVERY/<br/>PICKUP</b><br/>ðŸšš Refill Logistics"]
    PP --> QQ["<b>REFILL COMPLETED</b><br/>âœ… Refill Finished"]
    QQ --> FF
    
    OO --> RR{"<b>ACCEPT<br/>ALTERNATIVE?</b><br/>ðŸ¤” Client Decision"}
    RR -->|"<b>YES</b>"| NN
    RR -->|"<b>NO</b>"| SS["<b>WAIT FOR RESTOCK OR<br/>FIND ANOTHER PHARMACY</b><br/>â³ Alternative Options"]
    SS --> H
    
    %% Enhanced System Components Styling with Bold Text
    classDef clientStyle fill:#e1f5fe,stroke:#01579b,stroke-width:4px,color:#000,font-weight:bold
    classDef portalStyle fill:#f3e5f5,stroke:#4a148c,stroke-width:4px,color:#000,font-weight:bold
    classDef pharmacyStyle fill:#e8f5e8,stroke:#1b5e20,stroke-width:4px,color:#000,font-weight:bold
    classDef doctorStyle fill:#fff8e1,stroke:#f57f17,stroke-width:4px,color:#000,font-weight:bold
    classDef specialistStyle fill:#fce4ec,stroke:#c2185b,stroke-width:4px,color:#000,font-weight:bold
    classDef processStyle fill:#fff3e0,stroke:#e65100,stroke-width:4px,color:#000,font-weight:bold
    classDef decisionStyle fill:#f1f8e9,stroke:#33691e,stroke-width:4px,color:#000,font-weight:bold
    
    class A clientStyle
    class B,F,FF,HH,FF1,HH1,II1,JJ1,KK1 portalStyle
    class C,J,K,L,P,Q,R,T,U,V,BB,CC,DD,JJ,KK,NN,PP pharmacyStyle
    class D1,I1,L1,M1,T1,U1,W1,X1,MM1,NN1 doctorStyle
    class E1,J1,K1,Z1,AA1,BB1,CC1,DD1,EE1 specialistStyle
    class D,G,H,I,W,X,Z,EE,II,LL,QQ,SS,AA,F1,G1,N1,O1,P1,R1,S1,GG1 processStyle
    class E,M,N,O,Y,GG,MM,RR,H1,V1,Y1,Q1,LL1 decisionStyle