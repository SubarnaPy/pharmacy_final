# Advanced Notification System - Production Configuration
# This file contains production environment variables

# Application Configuration
NODE_ENV=production
PORT=5000
API_VERSION=v1

# Database Configuration
MONGODB_URI=mongodb://mongodb-cluster:27017/healthcare_production
MONGODB_OPTIONS={"replicaSet":"rs0","readPreference":"secondaryPreferred","maxPoolSize":20}

# Cache Configuration
REDIS_URL=redis://redis-cluster:6379
REDIS_PASSWORD=your_production_redis_password
REDIS_DB=0
REDIS_CONNECTION_POOL_SIZE=20

# External Service Configuration - Email
SENDGRID_API_KEY=your_production_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=Healthcare Platform
SENDGRID_WEBHOOK_SECRET=your_sendgrid_webhook_secret

# AWS SES (Backup Email Provider)
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-east-1
AWS_SES_FROM_EMAIL=noreply@yourdomain.com
AWS_SES_CONFIGURATION_SET=healthcare-notifications

# External Service Configuration - SMS
TWILIO_ACCOUNT_SID=your_production_twilio_account_sid
TWILIO_AUTH_TOKEN=your_production_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WEBHOOK_SECRET=your_twilio_webhook_secret

# AWS SNS (Backup SMS Provider)
AWS_SNS_REGION=us-east-1
AWS_SNS_ACCESS_KEY_ID=your_aws_sns_access_key
AWS_SNS_SECRET_ACCESS_KEY=your_aws_sns_secret_key

# Security Configuration
JWT_SECRET=your_production_jwt_secret_key_minimum_32_characters
JWT_EXPIRES_IN=24h
ENCRYPTION_KEY=your_32_character_encryption_key_here
CORS_ORIGIN=https://yourdomain.com,https://app.yourdomain.com
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/yourdomain.com.crt
SSL_KEY_PATH=/etc/ssl/private/yourdomain.com.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt

# Monitoring and Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_MAX_SIZE=100m
LOG_MAX_FILES=10
SENTRY_DSN=your_production_sentry_dsn
NEW_RELIC_LICENSE_KEY=your_production_newrelic_license_key
NEW_RELIC_APP_NAME=notification-service-production

# Performance Configuration
MAX_CONCURRENT_NOTIFICATIONS=500
NOTIFICATION_QUEUE_SIZE=50000
NOTIFICATION_BATCH_SIZE=100
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=5000

# WebSocket Configuration
WEBSOCKET_HEARTBEAT_INTERVAL=25000
WEBSOCKET_HEARTBEAT_TIMEOUT=60000
WEBSOCKET_MAX_CONNECTIONS=10000

# Feature Flags
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_EMAIL_TRACKING=true
ENABLE_ANALYTICS=true
ENABLE_RATE_LIMITING=true
ENABLE_NOTIFICATION_ENCRYPTION=true
ENABLE_AUDIT_LOGGING=true
ENABLE_PERFORMANCE_MONITORING=true

# Backup Configuration
AWS_S3_BACKUP_BUCKET=healthcare-notifications-backups
BACKUP_RETENTION_DAYS=90
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key_here

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000
EXTERNAL_SERVICE_TIMEOUT=10000

# Template Configuration
TEMPLATE_CACHE_TTL=3600
TEMPLATE_RENDER_TIMEOUT=5000
TEMPLATE_MAX_SIZE=1048576

# Analytics Configuration
ANALYTICS_BATCH_SIZE=1000
ANALYTICS_FLUSH_INTERVAL=60000
ANALYTICS_RETENTION_DAYS=365

# Notification Preferences
DEFAULT_QUIET_HOURS_START=22:00
DEFAULT_QUIET_HOURS_END=08:00
DEFAULT_NOTIFICATION_FREQUENCY=immediate
CRITICAL_NOTIFICATION_OVERRIDE=true

# External Service Rate Limits
SENDGRID_RATE_LIMIT=1000
TWILIO_RATE_LIMIT=100
AWS_SES_RATE_LIMIT=200
AWS_SNS_RATE_LIMIT=300

# Database Connection Limits
MONGODB_MAX_POOL_SIZE=20
MONGODB_MIN_POOL_SIZE=5
MONGODB_MAX_IDLE_TIME_MS=30000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000

# Redis Configuration
REDIS_MAX_RETRIES_PER_REQUEST=3
REDIS_RETRY_DELAY_ON_FAILURE_MS=100
REDIS_ENABLE_READY_CHECK=true
REDIS_MAX_RECONNECT_ATTEMPTS=10

# Compliance Configuration
HIPAA_COMPLIANCE_MODE=true
DATA_RETENTION_POLICY_DAYS=2555  # 7 years
AUDIT_LOG_RETENTION_DAYS=2555
PII_ENCRYPTION_REQUIRED=true

# Notification Categories
MEDICAL_NOTIFICATION_PRIORITY=high
ADMINISTRATIVE_NOTIFICATION_PRIORITY=medium
SYSTEM_NOTIFICATION_PRIORITY=low
MARKETING_NOTIFICATION_PRIORITY=low

# Queue Configuration
NOTIFICATION_QUEUE_PRIORITY_HIGH=notification_queue_high
NOTIFICATION_QUEUE_PRIORITY_MEDIUM=notification_queue_medium
NOTIFICATION_QUEUE_PRIORITY_LOW=notification_queue_low
FAILED_NOTIFICATION_QUEUE=notification_failed_queue
RETRY_NOTIFICATION_QUEUE=notification_retry_queue

# Webhook Configuration
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_SIGNATURE_HEADER=X-Webhook-Signature

# Load Balancer Configuration
LOAD_BALANCER_HEALTH_CHECK_PATH=/health
LOAD_BALANCER_READY_CHECK_PATH=/ready
LOAD_BALANCER_TIMEOUT=30000

# Deployment Configuration
DEPLOYMENT_ENVIRONMENT=production
DEPLOYMENT_REGION=us-east-1
DEPLOYMENT_AVAILABILITY_ZONE=us-east-1a
DEPLOYMENT_INSTANCE_TYPE=t3.large

# Scaling Configuration
AUTO_SCALING_MIN_INSTANCES=2
AUTO_SCALING_MAX_INSTANCES=10
AUTO_SCALING_TARGET_CPU=70
AUTO_SCALING_TARGET_MEMORY=80

# Network Configuration
ALLOWED_IPS=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
BLOCKED_IPS=
FIREWALL_ENABLED=true

# Maintenance Configuration
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System is currently under maintenance. Please try again later."
MAINTENANCE_ALLOWED_IPS=10.0.0.0/8

# Error Handling Configuration
ERROR_STACK_TRACE_ENABLED=false
ERROR_NOTIFICATION_THRESHOLD=10
ERROR_NOTIFICATION_INTERVAL=300000

# Cache Warming Configuration
CACHE_WARMING_ENABLED=true
CACHE_WARMING_TEMPLATES=true
CACHE_WARMING_PREFERENCES=true
CACHE_WARMING_ANALYTICS=false